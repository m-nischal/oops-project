{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/nischalreddymuthumula/Desktop/untitled%20folder%20copy/src/components/Header.js"],"sourcesContent":["// src/components/Header.js\nimport Link from \"next/link\";\nimport { useEffect, useState } from \"react\";\n\nexport default function Header() {\n  const [count, setCount] = useState(0);\n  useEffect(() => {\n    try {\n      const cart = JSON.parse(localStorage.getItem(\"lm_cart\") || \"[]\");\n      setCount(cart.reduce((s, i) => s + (i.qty||0), 0));\n    } catch (e) { setCount(0); }\n    const onStorage = () => {\n      try {\n        const cart = JSON.parse(localStorage.getItem(\"lm_cart\") || \"[]\");\n        setCount(cart.reduce((s, i) => s + (i.qty||0), 0));\n      } catch (e) {}\n    };\n    window.addEventListener(\"storage\", onStorage);\n    return () => window.removeEventListener(\"storage\", onStorage);\n  }, []);\n\n  return (\n    <header style={{ display:\"flex\", justifyContent:\"space-between\", padding:\"1rem\", borderBottom:\"1px solid #eee\" }}>\n      <div>\n        <Link href=\"/\" style={{ fontWeight:700, fontSize:18 }}>LiveMart (dev)</Link>\n      </div>\n      <nav>\n        <Link href=\"/cart\">Cart ({count})</Link>\n      </nav>\n    </header>\n  );\n}\n"],"names":[],"mappings":"AAAA,2BAA2B;;;;;;AAC3B;AACA;;;;AAEe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;IACnC,IAAA,gHAAS,EAAC;QACR,IAAI;YACF,MAAM,OAAO,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,cAAc;YAC3D,SAAS,KAAK,MAAM,CAAC,CAAC,GAAG,IAAM,IAAI,CAAC,EAAE,GAAG,IAAE,CAAC,GAAG;QACjD,EAAE,OAAO,GAAG;YAAE,SAAS;QAAI;QAC3B,MAAM,YAAY;YAChB,IAAI;gBACF,MAAM,OAAO,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,cAAc;gBAC3D,SAAS,KAAK,MAAM,CAAC,CAAC,GAAG,IAAM,IAAI,CAAC,EAAE,GAAG,IAAE,CAAC,GAAG;YACjD,EAAE,OAAO,GAAG,CAAC;QACf;QACA,OAAO,gBAAgB,CAAC,WAAW;QACnC,OAAO,IAAM,OAAO,mBAAmB,CAAC,WAAW;IACrD,GAAG,EAAE;IAEL,qBACE,qKAAC;QAAO,OAAO;YAAE,SAAQ;YAAQ,gBAAe;YAAiB,SAAQ;YAAQ,cAAa;QAAiB;;0BAC7G,qKAAC;0BACC,cAAA,qKAAC,gIAAI;oBAAC,MAAK;oBAAI,OAAO;wBAAE,YAAW;wBAAK,UAAS;oBAAG;8BAAG;;;;;;;;;;;0BAEzD,qKAAC;0BACC,cAAA,qKAAC,gIAAI;oBAAC,MAAK;;wBAAQ;wBAAO;wBAAM;;;;;;;;;;;;;;;;;;AAIxC","debugId":null}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///Users/nischalreddymuthumula/Desktop/untitled%20folder%20copy/src/components/ProductCard.js"],"sourcesContent":["// src/components/ProductCard.js\nimport Link from \"next/link\";\n\nfunction firstSizeLabel(sizes = []) {\n  if (!Array.isArray(sizes) || sizes.length === 0) return null;\n  const s = sizes[0];\n  return (s && (s.size ?? s.label)) || null;\n}\n\nfunction totalStockFrom(product = {}) {\n  // Prefer explicit totalStock, else sum sizes\n  if (typeof product.totalStock === \"number\") return product.totalStock;\n  if (Array.isArray(product.sizes)) {\n    return product.sizes.reduce((acc, it) => acc + (Number(it.stock || 0)), 0);\n  }\n  return 0;\n}\n\nexport default function ProductCard({ product = {} }) {\n  const price = typeof product.price === \"number\" ? product.price : Number(product.price || 0);\n  const priceText = `₹${price.toLocaleString(\"en-IN\")}`;\n  const firstSize = firstSizeLabel(product.sizes);\n  const totalStock = totalStockFrom(product);\n  const isOutOfStock = totalStock <= 0;\n\n  return (\n    <div style={{ border: \"1px solid #ddd\", borderRadius: 6, padding: 12, width: 260, background: \"#fff\" }}>\n      <div style={{ position: \"relative\" }}>\n        <div style={{ height: 140, marginBottom: 8, background: \"#f6f6f6\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\", borderRadius: 6 }}>\n          <img\n            src={(product.images && product.images[0]) || \"/images/placeholder.png\"}\n            alt={product.name || \"product image\"}\n            style={{ maxHeight: 130, maxWidth: \"100%\", objectFit: \"cover\", borderRadius: 4 }}\n          />\n        </div>\n\n        {isOutOfStock ? (\n          <div style={{\n            position: \"absolute\",\n            top: 8,\n            left: 8,\n            background: \"rgba(255,255,255,0.9)\",\n            padding: \"4px 8px\",\n            borderRadius: 999,\n            border: \"1px solid #f1c0c0\",\n            color: \"#b00020\",\n            fontSize: 12,\n            fontWeight: 700\n          }}>\n            Out of stock\n          </div>\n        ) : null}\n      </div>\n\n      <h3 style={{ margin: \"6px 0\", fontSize: 16, lineHeight: \"1.2em\" }}>{product.name || \"Untitled product\"}</h3>\n      <div style={{ color: \"#555\", marginBottom: 8, fontSize: 13 }}>\n        {product.description ? (product.description.length > 80 ? product.description.slice(0, 80) + \"…\" : product.description) : \"\"}\n      </div>\n\n      <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: 8 }}>\n        <div style={{ fontWeight: 700 }}>{priceText}</div>\n        <div style={{ fontSize: 13, color: \"#666\" }}>\n          {firstSize ? `Size: ${firstSize}` : null}\n        </div>\n      </div>\n\n      <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\n        <Link href={`/product/${product._id}`} style={{ textDecoration: \"none\", color: \"#0070f3\", fontWeight: 600 }}>\n          View\n        </Link>\n\n        <div style={{ fontSize: 12, color: \"#666\" }}>\n          {isOutOfStock ? \"—\" : `${totalStock} available`}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 291, "column": 0}, "map": {"version":3,"sources":["file:///Users/nischalreddymuthumula/Desktop/untitled%20folder%20copy/src/pages/index.js"],"sourcesContent":["// src/pages/index.js\nimport { useEffect, useState } from \"react\";\nimport Header from \"components/Header\";\nimport ProductCard from \"components/ProductCard\";\n\nexport default function Home() {\n  const [products, setProducts] = useState([]);\n  const [q, setQ] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  async function load(qstr=\"\") {\n    setLoading(true);\n    try {\n      const url = `/api/products?q=${encodeURIComponent(qstr)}&limit=50`;\n      const res = await fetch(url);\n      const data = await res.json();\n      // normalize items shape and unwrap product wrapper if present\n      const items = (data.items || data.products || data || []).map(p => p && p.product ? p.product : p);\n      setProducts(items);\n    } catch (e) {\n      console.error(e);\n    } finally { setLoading(false); }\n  }\n\n  useEffect(() => { load(); }, []);\n\n  return (\n    <div>\n      <Header />\n      <main style={{ padding:20 }}>\n        <div style={{ marginBottom:16 }}>\n          <input value={q} onChange={(e)=>setQ(e.target.value)} placeholder=\"Search products...\" />\n          <button onClick={()=>load(q)} style={{ marginLeft:8 }}>Search</button>\n        </div>\n\n        {loading ? <div>Loading products…</div> : null}\n\n        <div style={{ display:\"flex\", gap:16, flexWrap:\"wrap\" }}>\n          {products.map(p => <ProductCard key={p._id} product={p} />)}\n        </div>\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":"AAAA,qBAAqB;;;;;;AACrB;AACA;AACA;;;;;AAEe,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+GAAQ,EAAC,EAAE;IAC3C,MAAM,CAAC,GAAG,KAAK,GAAG,IAAA,+GAAQ,EAAC;IAC3B,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IAEvC,eAAe,KAAK,OAAK,EAAE;QACzB,WAAW;QACX,IAAI;YACF,MAAM,MAAM,CAAC,gBAAgB,EAAE,mBAAmB,MAAM,SAAS,CAAC;YAClE,MAAM,MAAM,MAAM,MAAM;YACxB,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,8DAA8D;YAC9D,MAAM,QAAQ,CAAC,KAAK,KAAK,IAAI,KAAK,QAAQ,IAAI,QAAQ,EAAE,EAAE,GAAG,CAAC,CAAA,IAAK,KAAK,EAAE,OAAO,GAAG,EAAE,OAAO,GAAG;YAChG,YAAY;QACd,EAAE,OAAO,GAAG;YACV,QAAQ,KAAK,CAAC;QAChB,SAAU;YAAE,WAAW;QAAQ;IACjC;IAEA,IAAA,gHAAS,EAAC;QAAQ;IAAQ,GAAG,EAAE;IAE/B,qBACE,qKAAC;;0BACC,qKAAC,+HAAM;;;;;0BACP,qKAAC;gBAAK,OAAO;oBAAE,SAAQ;gBAAG;;kCACxB,qKAAC;wBAAI,OAAO;4BAAE,cAAa;wBAAG;;0CAC5B,qKAAC;gCAAM,OAAO;gCAAG,UAAU,CAAC,IAAI,KAAK,EAAE,MAAM,CAAC,KAAK;gCAAG,aAAY;;;;;;0CAClE,qKAAC;gCAAO,SAAS,IAAI,KAAK;gCAAI,OAAO;oCAAE,YAAW;gCAAE;0CAAG;;;;;;;;;;;;oBAGxD,wBAAU,qKAAC;kCAAI;;;;;+BAA0B;kCAE1C,qKAAC;wBAAI,OAAO;4BAAE,SAAQ;4BAAQ,KAAI;4BAAI,UAAS;wBAAO;kCACnD,SAAS,GAAG,CAAC,CAAA,kBAAK,qKAAC,oIAAW;gCAAa,SAAS;+BAAhB,EAAE,GAAG;;;;;;;;;;;;;;;;;;;;;;AAKpD","debugId":null}}]
}