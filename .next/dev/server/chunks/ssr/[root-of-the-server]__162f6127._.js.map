{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///C:/SEM-3/OOPS/Project%20OOPS/Project%20OOPS/src/components/LeftSidebar.jsx"],"sourcesContent":["// src/components/LeftSidebar.jsx\nimport React, { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\n\nexport default function LeftSidebar({ maxWidth = 300 }) {\n  const [tree, setTree] = useState([]); // [{ cat, children: [] }]\n  const [loading, setLoading] = useState(true);\n  const [openCatId, setOpenCatId] = useState(null);\n\n  useEffect(() => {\n    let mounted = true;\n    async function load() {\n      setLoading(true);\n      try {\n        const res = await fetch(\"/api/categories\");\n        if (!res.ok) throw new Error(\"Failed to load categories\");\n        const all = await res.json();\n        if (!mounted) return;\n        const map = {};\n        all.forEach(c => {\n          const parentKey = c.parent ? String(c.parent) : \"root\";\n          map[parentKey] = map[parentKey] || [];\n          map[parentKey].push(c);\n        });\n        const top = (map[\"root\"] || []).sort((a,b) => (a.meta?.sortOrder||0)-(b.meta?.sortOrder||0) || a.name.localeCompare(b.name));\n        const built = top.map(t => ({\n          cat: t,\n          children: (map[String(t._id)] || []).sort((a,b)=> (a.meta?.sortOrder||0)-(b.meta?.sortOrder||0) || a.name.localeCompare(b.name))\n        }));\n        setTree(built);\n      } catch (err) {\n        console.error(\"LeftSidebar load error\", err);\n      } finally {\n        setLoading(false);\n      }\n    }\n    load();\n    return () => { mounted = false; };\n  }, []);\n\n  function handleKeyOpen(catId, e) {\n    if (e.key === \"Enter\" || e.key === \" \") {\n      e.preventDefault();\n      setOpenCatId(openCatId === catId ? null : catId);\n    }\n  }\n\n  return (\n    <>\n      <style jsx>{`\n        .ls-wrapper {\n          position: fixed;\n          left: 8px;\n          top: 50%;\n          transform: translateY(-50%);\n          z-index: 1000;\n          display: flex;\n          align-items: center;\n          pointer-events: none; /* hamburger will enable pointer-events */\n        }\n\n        .hamburger {\n          width: 40px;\n          height: 40px;\n          border-radius: 8px;\n          background: #fff;\n          box-shadow: 0 4px 12px rgba(0,0,0,0.12);\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          gap: 4px;\n          padding: 8px;\n          cursor: pointer;\n          pointer-events: auto;\n          align-items: center;\n          outline: none;\n        }\n\n        .bar {\n          width: 20px;\n          height: 2px;\n          background: #333;\n          border-radius: 2px;\n        }\n\n        /* panel closed state */\n        .panel {\n          width: 0;\n          overflow: visible;\n          transition: width 220ms ease;\n          pointer-events: none;\n        }\n\n        .panel-inner {\n          position: relative;\n          left: 46px; /* distance from hamburger */\n          top: -8px;\n          width: ${maxWidth}px;\n          max-width: ${maxWidth}px;\n          background: #fff;\n          border-radius: 8px;\n          box-shadow: 0 8px 30px rgba(0,0,0,0.15);\n          padding: 12px;\n          transform-origin: left center;\n          opacity: 0;\n          transform: translateX(-6px);\n          transition: opacity 160ms ease, transform 160ms ease;\n          pointer-events: auto;\n        }\n\n        /* ONLY open when hamburger is hovered/focused OR panel itself hovered/focused */\n        .hamburger:hover + .panel,\n        .hamburger:focus + .panel,\n        .panel:hover,\n        .panel:focus-within {\n          width: calc(${maxWidth}px + 56px);\n          pointer-events: auto;\n        }\n        .hamburger:hover + .panel .panel-inner,\n        .hamburger:focus + .panel .panel-inner,\n        .panel:hover .panel-inner,\n        .panel:focus-within .panel-inner {\n          opacity: 1;\n          transform: translateX(0);\n        }\n\n        .major-list { list-style: none; padding: 0; margin: 0; display: flex; gap: 8px; flex-direction: column; }\n        .major-item { padding: 8px; border-radius: 6px; display: flex; justify-content: space-between; align-items: center; cursor: pointer; }\n        .major-item:hover, .major-item:focus { background: #f6f8fb; }\n        .major-title { font-weight: 700; color: #111; }\n        .children { list-style: none; padding-left: 12px; margin: 6px 0 0 0; display: none; }\n        .children a { display: block; padding: 6px 8px; border-radius: 6px; color: #333; text-decoration: none; font-size: 14px; }\n        .children a:hover { background: #f3f6ff; }\n\n        .major-item:hover .children,\n        .major-item:focus-within .children,\n        .major-item.open .children {\n          display: block;\n        }\n\n        .cat-path { font-size: 12px; color: #666; margin-top: 4px; }\n      `}</style>\n\n      <div className=\"ls-wrapper\" aria-hidden={false}>\n        <div\n          className=\"hamburger\"\n          role=\"button\"\n          tabIndex={0}\n          aria-label=\"Open categories\"\n          title=\"Browse categories (hover)\"\n        >\n          <span className=\"bar\" />\n          <span className=\"bar\" />\n          <span className=\"bar\" />\n        </div>\n\n        <div className=\"panel\" aria-hidden=\"true\">\n          <div className=\"panel-inner\" role=\"menu\" aria-label=\"Category navigation\">\n            <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: 8 }}>\n              <div style={{ fontWeight: 800 }}>Categories</div>\n              <div style={{ fontSize: 13, color: \"#666\" }}>{loading ? \"Loading…\" : `${tree.length} groups`}</div>\n            </div>\n\n            <nav>\n              <ul className=\"major-list\" role=\"list\">\n                {tree.map(({ cat, children }) => {\n                  const isOpen = openCatId === String(cat._id);\n                  return (\n                    <li\n                      key={cat._id}\n                      className={`major-item ${isOpen ? \"open\" : \"\"}`}\n                      onMouseEnter={() => setOpenCatId(String(cat._id))}\n                      onMouseLeave={() => setOpenCatId(null)}\n                    >\n                      <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n                        <Link href={`/products?categoryId=${cat._id}`} legacyBehavior><a className=\"major-title\" style={{ textDecoration: \"none\" }}>{cat.name}</a></Link>\n                        <div className=\"cat-path\">{cat.path}</div>\n                      </div>\n\n                      <div style={{ marginLeft: 8 }}>\n                        <button\n                          onClick={() => setOpenCatId(isOpen ? null : String(cat._id))}\n                          onKeyDown={(e) => handleKeyOpen(String(cat._id), e)}\n                          aria-expanded={isOpen}\n                          aria-controls={`children-${cat._id}`}\n                          style={{ background: \"transparent\", border: \"none\", cursor: \"pointer\", color: \"#666\" }}\n                          title={isOpen ? \"Collapse\" : \"Expand\"}\n                        >\n                          ▾\n                        </button>\n                      </div>\n\n                      <ul id={`children-${cat._id}`} className=\"children\" role=\"list\">\n                        {children.length === 0 && <li style={{ fontSize: 13, color: \"#999\", padding: \"6px 8px\" }}>No subcategories</li>}\n                        {children.map(child => (\n                          <li key={child._id}>\n                            <Link href={`/products?categoryId=${child._id}`} legacyBehavior>\n                              <a>{child.name}</a>\n                            </Link>\n                          </li>\n                        ))}\n                      </ul>\n                    </li>\n                  );\n                })}\n              </ul>\n            </nav>\n\n            <div style={{ marginTop: 12, fontSize: 13, color: \"#666\" }}>\n              Tip: hover the three-dash icon to open. Click a category to view products.\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n"],"names":[],"mappings":"AAAA,iCAAiC;;;;;;;AACjC;AACA;;;;;AAEe,SAAS,YAAY,EAAE,WAAW,GAAG,EAAE;IACpD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+GAAQ,EAAC,EAAE,GAAG,0BAA0B;IAChE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IACvC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,+GAAQ,EAAC;IAE3C,IAAA,gHAAS,EAAC;QACR,IAAI,UAAU;QACd,eAAe;YACb,WAAW;YACX,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM;gBACxB,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;gBAC7B,MAAM,MAAM,MAAM,IAAI,IAAI;gBAC1B,IAAI,CAAC,SAAS;gBACd,MAAM,MAAM,CAAC;gBACb,IAAI,OAAO,CAAC,CAAA;oBACV,MAAM,YAAY,EAAE,MAAM,GAAG,OAAO,EAAE,MAAM,IAAI;oBAChD,GAAG,CAAC,UAAU,GAAG,GAAG,CAAC,UAAU,IAAI,EAAE;oBACrC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC;gBACtB;gBACA,MAAM,MAAM,CAAC,GAAG,CAAC,OAAO,IAAI,EAAE,EAAE,IAAI,CAAC,CAAC,GAAE,IAAM,CAAC,EAAE,IAAI,EAAE,aAAW,CAAC,IAAE,CAAC,EAAE,IAAI,EAAE,aAAW,CAAC,KAAK,EAAE,IAAI,CAAC,aAAa,CAAC,EAAE,IAAI;gBAC1H,MAAM,QAAQ,IAAI,GAAG,CAAC,CAAA,IAAK,CAAC;wBAC1B,KAAK;wBACL,UAAU,CAAC,GAAG,CAAC,OAAO,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,IAAI,CAAC,CAAC,GAAE,IAAK,CAAC,EAAE,IAAI,EAAE,aAAW,CAAC,IAAE,CAAC,EAAE,IAAI,EAAE,aAAW,CAAC,KAAK,EAAE,IAAI,CAAC,aAAa,CAAC,EAAE,IAAI;oBAChI,CAAC;gBACD,QAAQ;YACV,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,0BAA0B;YAC1C,SAAU;gBACR,WAAW;YACb;QACF;QACA;QACA,OAAO;YAAQ,UAAU;QAAO;IAClC,GAAG,EAAE;IAEL,SAAS,cAAc,KAAK,EAAE,CAAC;QAC7B,IAAI,EAAE,GAAG,KAAK,WAAW,EAAE,GAAG,KAAK,KAAK;YACtC,EAAE,cAAc;YAChB,aAAa,cAAc,QAAQ,OAAO;QAC5C;IACF;IAEA,qBACE;;;;;oBAiDe;oBACI;oBAiBC;;qsBAlBL,wBACI,8fAiBC;;0BA4BlB,qKAAC;gBAA2B,eAAa;;;;;4BA9C5B;4BACI;4BAiBC;;;2BA4BH;;kCACb,qKAAC;wBAEC,MAAK;wBACL,UAAU;wBACV,cAAW;wBACX,OAAM;;;;;oCApDG;oCACI;oCAiBC;;;mCA8BJ;;0CAMV,qKAAC;;;;;4CAtDQ;4CACI;4CAiBC;;;2CAoCE;;;;;;0CAChB,qKAAC;;;;;4CAvDQ;4CACI;4CAiBC;;;2CAqCE;;;;;;0CAChB,qKAAC;;;;;4CAxDQ;4CACI;4CAiBC;;;2CAsCE;;;;;;;;;;;;kCAGlB,qKAAC;wBAAsB,eAAY;;;;;oCA3DxB;oCACI;oCAiBC;;;mCAyCD;kCACb,cAAA,qKAAC;4BAA4B,MAAK;4BAAO,cAAW;;;;;wCA5D3C;wCACI;wCAiBC;;;uCA0CC;;8CACb,qKAAC;oCAAI,OAAO;wCAAE,SAAS;wCAAQ,gBAAgB;wCAAiB,YAAY;wCAAU,cAAc;oCAAE;;;;;gDA7D/F;gDACI;gDAiBC;;;;;sDA4CV,qKAAC;4CAAI,OAAO;gDAAE,YAAY;4CAAI;;;;;wDA9DzB;wDACI;wDAiBC;;;;sDA4CuB;;;;;;sDACjC,qKAAC;4CAAI,OAAO;gDAAE,UAAU;gDAAI,OAAO;4CAAO;;;;;wDA/DrC;wDACI;wDAiBC;;;;sDA6CoC,UAAU,aAAa,GAAG,KAAK,MAAM,CAAC,OAAO,CAAC;;;;;;;;;;;;8CAG9F,qKAAC;;;;;gDAlEM;gDACI;gDAiBC;;;;8CAiDV,cAAA,qKAAC;wCAA0B,MAAK;;;;;oDAnE3B;oDACI;oDAiBC;;;mDAiDI;kDACX,KAAK,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,QAAQ,EAAE;4CAC1B,MAAM,SAAS,cAAc,OAAO,IAAI,GAAG;4CAC3C,qBACE,qKAAC;gDAGC,cAAc,IAAM,aAAa,OAAO,IAAI,GAAG;gDAC/C,cAAc,IAAM,aAAa;;;;;4DA3EpC;4DACI;4DAiBC;;;2DAuDS,CAAC,WAAW,EAAE,SAAS,SAAS,IAAI;;kEAI/C,qKAAC;wDAAI,OAAO;4DAAE,SAAS;4DAAQ,eAAe;wDAAS;;;;;oEA7E1D;oEACI;oEAiBC;;;;;0EA4DA,qKAAC,gIAAI;gEAAC,MAAM,CAAC,qBAAqB,EAAE,IAAI,GAAG,EAAE;gEAAE,cAAc;0EAAC,cAAA,qKAAC;oEAA0B,OAAO;wEAAE,gBAAgB;oEAAO;;;;;gFA9E9H;gFACI;gFAiBC;;;+EA4D2E;8EAAkD,IAAI,IAAI;;;;;;;;;;;0EACrI,qKAAC;;;;;4EA/EN;4EACI;4EAiBC;;;2EA6De;0EAAY,IAAI,IAAI;;;;;;;;;;;;kEAGrC,qKAAC;wDAAI,OAAO;4DAAE,YAAY;wDAAE;;;;;oEAlF/B;oEACI;oEAiBC;;;;kEAiEA,cAAA,qKAAC;4DACC,SAAS,IAAM,aAAa,SAAS,OAAO,OAAO,IAAI,GAAG;4DAC1D,WAAW,CAAC,IAAM,cAAc,OAAO,IAAI,GAAG,GAAG;4DACjD,iBAAe;4DACf,iBAAe,CAAC,SAAS,EAAE,IAAI,GAAG,EAAE;4DACpC,OAAO;gEAAE,YAAY;gEAAe,QAAQ;gEAAQ,QAAQ;gEAAW,OAAO;4DAAO;4DACrF,OAAO,SAAS,aAAa;;;;;wEAzFpC;wEACI;wEAiBC;;;;sEAwEC;;;;;;;;;;;kEAKH,qKAAC;wDAAG,IAAI,CAAC,SAAS,EAAE,IAAI,GAAG,EAAE;wDAAuB,MAAK;;;;;oEA/F5D;oEACI;oEAiBC;;;mEA6EuC;;4DACtC,SAAS,MAAM,KAAK,mBAAK,qKAAC;gEAAG,OAAO;oEAAE,UAAU;oEAAI,OAAO;oEAAQ,SAAS;gEAAU;;;;;4EAhG5F;4EACI;4EAiBC;;;;0EA8E0F;;;;;;4DACzF,SAAS,GAAG,CAAC,CAAA,sBACZ,qKAAC;;;;;gFAlGR;gFACI;gFAiBC;;;;8EAiFI,cAAA,qKAAC,gIAAI;wEAAC,MAAM,CAAC,qBAAqB,EAAE,MAAM,GAAG,EAAE;wEAAE,cAAc;kFAC7D,cAAA,qKAAC;;;;;wFApGZ;wFACI;wFAiBC;;;;sFAkFU,MAAM,IAAI;;;;;;;;;;;mEAFT,MAAM,GAAG;;;;;;;;;;;;+CA1BjB,IAAI,GAAG;;;;;wCAmClB;;;;;;;;;;;8CAIJ,qKAAC;oCAAI,OAAO;wCAAE,WAAW;wCAAI,UAAU;wCAAI,OAAO;oCAAO;;;;;gDA/GlD;gDACI;gDAiBC;;;;8CA6FgD;;;;;;;;;;;;;;;;;;;;;;;;;AAQxE","debugId":null}},
    {"offset": {"line": 573, "column": 0}, "map": {"version":3,"sources":["file:///C:/SEM-3/OOPS/Project%20OOPS/Project%20OOPS/src/pages/_app.js"],"sourcesContent":["// src/pages/_app.js\nimport '@/styles/globals.css' // Or whatever your CSS file is named\nimport React from \"react\";\nimport LeftSidebar from \"../components/LeftSidebar\";\n\nexport default function App({ Component, pageProps }) {\n  return (\n    <>\n      <LeftSidebar />\n      <Component {...pageProps} />\n    </>\n  );\n}\n"],"names":[],"mappings":"AAAA,oBAAoB;;;;;;AAEpB;AACA;;;;;AAEe,SAAS,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE;IAClD,qBACE;;0BACE,qKAAC,qIAAW;;;;;0BACZ,qKAAC;gBAAW,GAAG,SAAS;;;;;;;;AAG9B","debugId":null}}]
}