{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/nischalreddymuthumula/Desktop/untitled%20folder%20copy%203/src/models/Product.js"],"sourcesContent":["// src/models/Product.js\nimport mongoose from \"mongoose\";\n\nconst { Schema } = mongoose;\n\n/* --- (all your existing sub-schemas and ProductSchema here) --- */\n/* I'm copying your existing content exactly and then adding two static helpers\n   below. Replace the entire file content with this version. */\n\nconst ReviewSchema = new Schema({\n  rating: { type: Number, required: true, min: 1, max: 5 },\n  comment: { type: String, default: \"\" },\n  author: { type: String },\n  createdAt: { type: Date, default: Date.now },\n});\n\nconst SizeVariantSchema = new Schema({\n  size: { type: String, required: true },\n  sku: { type: String },\n  stock: { type: Number, default: 0 },\n  price: { type: Number },\n});\n\nconst SizeChartSchema = new Schema({\n  chartName: { type: String },\n  data: { type: Schema.Types.Mixed },\n}, { _id: false });\n\nconst WarehouseSchema = new Schema({\n  name: { type: String },\n  address: { type: String },\n  city: { type: String },\n  state: { type: String },\n  country: { type: String },\n  pincode: { type: String },\n  leadTimeDays: { type: Number, default: 2 },\n  location: {\n    type: { type: String, enum: ['Point'], default: 'Point' },\n    coordinates: { type: [Number], default: undefined },\n  },\n}, { _id: false });\n\nconst ProductDetailsSchema = new Schema({\n  materialComposition: { type: String },\n  sleeveType: { type: String },\n  materialType: { type: String },\n  fitType: { type: String },\n  length: { type: String },\n  neckStyle: { type: String },\n  countryOfOrigin: { type: String },\n  extras: { type: Schema.Types.Mixed },\n}, { _id: false });\n\nconst ProductSchema = new Schema({\n  name: { type: String, required: true, index: true },\n  slug: { type: String, index: true },\n  description: { type: String },\n  brand: { type: String },\n  retailer: { type: String },\n  category: { type: String },\n  price: { type: Number, required: true },\n  images: [{ type: String }],\n  sizes: [SizeVariantSchema],\n  sizeChart: SizeChartSchema,\n  productDetails: ProductDetailsSchema,\n  reviews: [ReviewSchema],\n  warehouses: [WarehouseSchema],\n  totalStock: { type: Number, default: 0 },\n  tags: [String],\n  createdAt: { type: Date, default: Date.now },\n  updatedAt: { type: Date, default: Date.now },\n}, { timestamps: true });\n\n/**\n * helper to recalc totalStock (instance method) — **KEPT AS-IS**\n */\nProductSchema.methods.recalculateStock = function () {\n  const sizeStock = (this.sizes || []).reduce((acc, s) => acc + (s.stock || 0), 0);\n  this.totalStock = sizeStock;\n  return this.totalStock;\n};\n\n/**\n * STATIC HELPER:\n * computeTotalStockForPlainObject(productPlain)\n * - Accepts a plain product object (e.g. from .lean() or from JSON)\n * - Returns computed totalStock (Number) without mutating DB or the object.\n *\n * Use this on server-side responses to ensure returned items have fresh totalStock.\n */\nProductSchema.statics.computeTotalStockForPlainObject = function (productPlain = {}) {\n  if (!productPlain) return 0;\n\n  // Priority: explicit totalStock field if intentionally kept up-to-date\n  if (typeof productPlain.totalStock === \"number\" && Array.isArray(productPlain.sizes) === false) {\n    // If sizes not present, but totalStock exists, trust it\n    return productPlain.totalStock;\n  }\n\n  // If sizes array exists, sum up size.stock\n  if (Array.isArray(productPlain.sizes)) {\n    return productPlain.sizes.reduce((acc, s) => {\n      const n = s && (typeof s.stock === \"number\" ? s.stock : Number(s?.qty ?? 0));\n      return acc + (Number.isFinite(n) ? n : 0);\n    }, 0);\n  }\n\n  // Fallback: if only legacy fields exist, try them\n  if (typeof productPlain.stock === \"number\") return productPlain.stock;\n\n  return 0;\n};\n\n/**\n * OPTIONAL STATIC HELPER:\n * recalculateAndPersist(productId)\n * - loads product by id, recalculates using instance method, and persists the totalStock.\n * - Use this when you want to permanently sync the stored totalStock (not required for UI).\n */\nProductSchema.statics.recalculateAndPersist = async function (productId) {\n  if (!productId) throw new Error(\"productId required\");\n  const Product = this;\n  const doc = await Product.findById(productId);\n  if (!doc) throw new Error(\"product not found\");\n  doc.recalculateStock();\n  await doc.save();\n  return doc.totalStock;\n};\n\nexport default mongoose.models.Product || mongoose.model(\"Product\", ProductSchema);\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 262, "column": 0}, "map": {"version":3,"sources":["file:///Users/nischalreddymuthumula/Desktop/untitled%20folder%20copy%203/src/pages/api/orders/index.js"],"sourcesContent":["// src/pages/api/orders/index.js\nimport mongoose from \"mongoose\";\nimport dotenv from \"dotenv\";\nimport Product from \"models/Product.js\";\ndotenv.config();\n\n/**\n * Orders API:\n * - tries to use transactions (if supported)\n * - falls back to conditional updates + rollback if transactions unavailable\n */\n\nasync function createOrderDoc(data, session = null) {\n  if (!mongoose.models.Order) {\n    const OrderSchema = new mongoose.Schema({\n      customer: { name: String, phone: String, address: String },\n      items: [{ productId: mongoose.Schema.Types.ObjectId, name: String, qty: Number, price: Number, size: String }],\n      total: Number,\n      status: { type: String, default: \"Pending\" }\n    }, { timestamps: true });\n    mongoose.model(\"Order\", OrderSchema);\n  }\n  const Order = mongoose.model(\"Order\");\n  if (session) {\n    const docs = await Order.create([data], { session });\n    return docs[0];\n  } else {\n    return await Order.create(data);\n  }\n}\n\nexport default async function handler(req, res) {\n  if (!mongoose.connection.readyState) await mongoose.connect(process.env.MONGO_URI);\n\n  if (req.method !== \"POST\") return res.status(405).json({ message: \"Method not allowed\" });\n\n  const payload = req.body;\n  if (!payload || !payload.customer || !Array.isArray(payload.items) || payload.items.length === 0) {\n    return res.status(400).json({ message: \"Invalid order payload\" });\n  }\n\n  // Try transaction first\n  let session = null;\n  try {\n    session = await mongoose.startSession();\n    session.startTransaction();\n\n    const insufficient = [];\n\n    for (const item of payload.items) {\n      const productId = item.productId;\n      const qty = Number(item.qty) || 0;\n      const sizeLabel = item.size || null;\n\n      if (!productId || qty <= 0) {\n        insufficient.push({ productId, reason: \"invalid-qty\" });\n        break;\n      }\n\n      if (sizeLabel) {\n        const result = await Product.updateOne(\n          { _id: productId, sizes: { $elemMatch: { size: sizeLabel, stock: { $gte: qty } } } },\n          { $inc: { \"sizes.$.stock\": -qty } },\n          { session }\n        );\n        if (!result.modifiedCount) {\n          insufficient.push({ productId, size: sizeLabel, requested: qty });\n          break;\n        }\n      } else if (typeof item._usesTopLevelStock !== \"undefined\" && item._usesTopLevelStock) {\n        const result = await Product.updateOne(\n          { _id: productId, totalStock: { $gte: qty } },\n          { $inc: { totalStock: -qty } },\n          { session }\n        );\n        if (!result.modifiedCount) {\n          insufficient.push({ productId, requested: qty });\n          break;\n        }\n      } else {\n        // if no stock tracking for this product, skip decrement\n      }\n    }\n\n    if (insufficient.length) {\n      await session.abortTransaction();\n      session.endSession();\n      return res.status(400).json({ message: \"Insufficient stock\", details: insufficient });\n    }\n\n    // create order doc\n    const order = await createOrderDoc({\n      customer: payload.customer,\n      items: payload.items.map(i => ({ productId: i.productId, name: i.name || \"\", qty: Number(i.qty) || 1, price: Number(i.price) || 0, size: i.size || null })),\n      total: Number(payload.total) || 0,\n      status: \"Pending\"\n    }, session);\n\n    await session.commitTransaction();\n    session.endSession();\n    return res.status(201).json({ message: \"Order placed\", orderId: order._id });\n  } catch (errTransaction) {\n    console.warn(\"Transaction failed or not supported, attempting fallback. Error:\", errTransaction && errTransaction.message);\n\n    // Attempt fallback: conditional updates without session, with simple rollback if necessary\n    try {\n      // we'll record successful decrements to rollback if needed\n      const decremented = []; // { productId, size, qty }\n      const insufficient = [];\n\n      for (const item of payload.items) {\n        const productId = item.productId;\n        const qty = Number(item.qty) || 0;\n        const sizeLabel = item.size || null;\n\n        if (sizeLabel) {\n          const result = await Product.updateOne(\n            { _id: productId, sizes: { $elemMatch: { size: sizeLabel, stock: { $gte: qty } } } },\n            { $inc: { \"sizes.$.stock\": -qty } }\n          );\n          if (!result.modifiedCount) {\n            insufficient.push({ productId, size: sizeLabel, requested: qty });\n            break;\n          } else {\n            decremented.push({ productId, size: sizeLabel, qty });\n          }\n        } else if (typeof item._usesTopLevelStock !== \"undefined\" && item._usesTopLevelStock) {\n          const result = await Product.updateOne({ _id: productId, totalStock: { $gte: qty } }, { $inc: { totalStock: -qty } });\n          if (!result.modifiedCount) {\n            insufficient.push({ productId, requested: qty });\n            break;\n          } else {\n            decremented.push({ productId, qty });\n          }\n        } else {\n          // skip\n        }\n      }\n\n      if (insufficient.length) {\n        // rollback decrements\n        for (const d of decremented) {\n          if (d.size) {\n            await Product.updateOne({ _id: d.productId, sizes: { $elemMatch: { size: d.size } } }, { $inc: { \"sizes.$.stock\": d.qty } });\n          } else {\n            await Product.updateOne({ _id: d.productId }, { $inc: { totalStock: d.qty } });\n          }\n        }\n        return res.status(400).json({ message: \"Insufficient stock\", details: insufficient });\n      }\n\n      // all good — create order doc (no session)\n      const order = await createOrderDoc({\n        customer: payload.customer,\n        items: payload.items.map(i => ({ productId: i.productId, name: i.name || \"\", qty: Number(i.qty) || 1, price: Number(i.price) || 0, size: i.size || null })),\n        total: Number(payload.total) || 0,\n        status: \"Pending\"\n      }, null);\n\n      return res.status(201).json({ message: \"Order placed\", orderId: order._id });\n    } catch (errFallback) {\n      console.error(\"Fallback order creation failed:\", errFallback);\n      return res.status(500).json({ message: \"Failed to place order\" });\n    }\n  }\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}