{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/SEM-3/OOPS/Project%20OOPS/Project%20OOPS/src/models/categoryModel.js"],"sourcesContent":["// models/categoryModel.js\nimport mongoose from \"mongoose\";\n\nconst CategorySchema = new mongoose.Schema({\n  name: { type: String, required: true },\n  slug: { type: String, required: true },\n  parent: { type: mongoose.Schema.Types.ObjectId, ref: \"Category\", default: null },\n  path: { type: String, required: true, index: true }, // e.g. \"/clothing/men/shirts\"\n  domain: { type: String, enum: [\"clothing\",\"tech\",\"grocery\",\"other\"], default: \"clothing\" },\n  storefronts: { type: [String], default: [\"livemart\"] },\n  meta: {\n    description: String,\n    image: String,\n    sortOrder: { type: Number, default: 0 }\n  }\n}, { timestamps: true });\n\nCategorySchema.index({ slug: 1, parent: 1 }, { unique: true });\n\nexport default mongoose.models.Category || mongoose.model(\"Category\", CategorySchema);\n"],"names":[],"mappings":"AAAA,0BAA0B;;;;;AAC1B;;AAEA,MAAM,iBAAiB,IAAI,oHAAQ,CAAC,MAAM,CAAC;IACzC,MAAM;QAAE,MAAM;QAAQ,UAAU;IAAK;IACrC,MAAM;QAAE,MAAM;QAAQ,UAAU;IAAK;IACrC,QAAQ;QAAE,MAAM,oHAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ;QAAE,KAAK;QAAY,SAAS;IAAK;IAC/E,MAAM;QAAE,MAAM;QAAQ,UAAU;QAAM,OAAO;IAAK;IAClD,QAAQ;QAAE,MAAM;QAAQ,MAAM;YAAC;YAAW;YAAO;YAAU;SAAQ;QAAE,SAAS;IAAW;IACzF,aAAa;QAAE,MAAM;YAAC;SAAO;QAAE,SAAS;YAAC;SAAW;IAAC;IACrD,MAAM;QACJ,aAAa;QACb,OAAO;QACP,WAAW;YAAE,MAAM;YAAQ,SAAS;QAAE;IACxC;AACF,GAAG;IAAE,YAAY;AAAK;AAEtB,eAAe,KAAK,CAAC;IAAE,MAAM;IAAG,QAAQ;AAAE,GAAG;IAAE,QAAQ;AAAK;uCAE7C,oHAAQ,CAAC,MAAM,CAAC,QAAQ,IAAI,oHAAQ,CAAC,KAAK,CAAC,YAAY","debugId":null}},
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///C:/SEM-3/OOPS/Project%20OOPS/Project%20OOPS/src/pages/api/categories/index.js"],"sourcesContent":["// src/pages/api/categories/index.js\nimport mongoose from \"mongoose\";\nimport dotenv from \"dotenv\";\nimport Category from \"../../../models/categoryModel.js\";\ndotenv.config();\n\nexport default async function handler(req, res) {\n  if (!mongoose.connection.readyState) await mongoose.connect(process.env.MONGO_URI);\n\n  if (req.method === \"GET\") {\n    try {\n      const { parentId, path, domain, storefront } = req.query;\n      const filter = {};\n      if (parentId === \"null\") filter.parent = null;\n      else if (parentId) filter.parent = parentId;\n      if (path) filter.path = path;\n      if (domain) filter.domain = domain;\n      if (storefront) filter.storefronts = storefront;\n      const cats = await Category.find(filter).sort({ path: 1 }).lean();\n      return res.status(200).json(cats);\n    } catch (err) {\n      console.error(err);\n      return res.status(500).json({ message: \"Failed to fetch categories\" });\n    }\n  }\n\n  res.status(405).json({ message: \"Method not allowed\" });\n}\n"],"names":[],"mappings":"AAAA,oCAAoC;;;;;AACpC;AACA;AACA;;;;AACA,gHAAM,CAAC,MAAM;AAEE,eAAe,QAAQ,GAAG,EAAE,GAAG;IAC5C,IAAI,CAAC,oHAAQ,CAAC,UAAU,CAAC,UAAU,EAAE,MAAM,oHAAQ,CAAC,OAAO,CAAC,QAAQ,GAAG,CAAC,SAAS;IAEjF,IAAI,IAAI,MAAM,KAAK,OAAO;QACxB,IAAI;YACF,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE,UAAU,EAAE,GAAG,IAAI,KAAK;YACxD,MAAM,SAAS,CAAC;YAChB,IAAI,aAAa,QAAQ,OAAO,MAAM,GAAG;iBACpC,IAAI,UAAU,OAAO,MAAM,GAAG;YACnC,IAAI,MAAM,OAAO,IAAI,GAAG;YACxB,IAAI,QAAQ,OAAO,MAAM,GAAG;YAC5B,IAAI,YAAY,OAAO,WAAW,GAAG;YACrC,MAAM,OAAO,MAAM,kIAAQ,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC;gBAAE,MAAM;YAAE,GAAG,IAAI;YAC/D,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;QAC9B,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC;YACd,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;gBAAE,SAAS;YAA6B;QACtE;IACF;IAEA,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;QAAE,SAAS;IAAqB;AACvD","debugId":null}}]
}