{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/nischalreddymuthumula/Desktop/untitled%20folder/src/lib/dbConnect.js"],"sourcesContent":["import mongoose from \"mongoose\";\n\nconst MONGO_URI = process.env.MONGO_URI;\nif (!MONGO_URI) throw new Error(\"MONGO_URI not set\");\n\nlet cached = global._mongoose || { conn: null, promise: null };\nif (!global._mongoose) global._mongoose = cached;\n\nexport default async function dbConnect() {\n  if (cached.conn) return cached.conn;\n  if (!cached.promise) {\n    cached.promise = mongoose.connect(MONGO_URI).then(m => m);\n  }\n  cached.conn = await cached.promise;\n  return cached.conn;\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,YAAY,QAAQ,GAAG,CAAC,SAAS;AACvC,IAAI,CAAC,WAAW,MAAM,IAAI,MAAM;AAEhC,IAAI,SAAS,yDAAO,SAAS,IAAI;IAAE,MAAM;IAAM,SAAS;AAAK;AAC7D,IAAI,CAAC,yDAAO,SAAS,EAAE,yDAAO,SAAS,GAAG;AAE3B,eAAe;IAC5B,IAAI,OAAO,IAAI,EAAE,OAAO,OAAO,IAAI;IACnC,IAAI,CAAC,OAAO,OAAO,EAAE;QACnB,OAAO,OAAO,GAAG,oHAAQ,CAAC,OAAO,CAAC,WAAW,IAAI,CAAC,CAAA,IAAK;IACzD;IACA,OAAO,IAAI,GAAG,MAAM,OAAO,OAAO;IAClC,OAAO,OAAO,IAAI;AACpB","debugId":null}},
    {"offset": {"line": 47, "column": 0}, "map": {"version":3,"sources":["file:///Users/nischalreddymuthumula/Desktop/untitled%20folder/src/models/productModel.js"],"sourcesContent":["// models/productModel.js\nimport mongoose from \"mongoose\";\n\nconst sizeSchema = new mongoose.Schema({\n  label: { type: String, required: true },\n  stock: { type: Number, default: 0 },\n}, { _id: false });\n\nconst ratingSchema = new mongoose.Schema({\n  avg: { type: Number, default: 0 },\n  count: { type: Number, default: 0 },\n}, { _id: false });\n\nconst productSchema = new mongoose.Schema({\n  name: { type: String, required: true },\n  price: { type: Number, required: true },\n  originalPrice: { type: Number, default: 0 },\n  description: { type: String, default: \"\" },\n  materials: { type: [String], default: [] },\n  images: { type: [String], default: [] },\n  sizes: { type: [sizeSchema], default: [] },\n  rating: { type: ratingSchema, default: () => ({}) },\n  category: { type: String, default: \"General\" }\n}, { timestamps: true });\n\n// âœ… Add this line **RIGHT BELOW** the schema definition, before creating the model:\nproductSchema.index({ name: \"text\", description: \"text\" });\n\n// Prevent model overwrite in dev/hot-reload environments (Next.js etc.)\nconst Product = mongoose.models.Product || mongoose.model(\"Product\", productSchema);\n\nexport default Product;"],"names":[],"mappings":"AAAA,yBAAyB;;;;;AACzB;;AAEA,MAAM,aAAa,IAAI,oHAAQ,CAAC,MAAM,CAAC;IACrC,OAAO;QAAE,MAAM;QAAQ,UAAU;IAAK;IACtC,OAAO;QAAE,MAAM;QAAQ,SAAS;IAAE;AACpC,GAAG;IAAE,KAAK;AAAM;AAEhB,MAAM,eAAe,IAAI,oHAAQ,CAAC,MAAM,CAAC;IACvC,KAAK;QAAE,MAAM;QAAQ,SAAS;IAAE;IAChC,OAAO;QAAE,MAAM;QAAQ,SAAS;IAAE;AACpC,GAAG;IAAE,KAAK;AAAM;AAEhB,MAAM,gBAAgB,IAAI,oHAAQ,CAAC,MAAM,CAAC;IACxC,MAAM;QAAE,MAAM;QAAQ,UAAU;IAAK;IACrC,OAAO;QAAE,MAAM;QAAQ,UAAU;IAAK;IACtC,eAAe;QAAE,MAAM;QAAQ,SAAS;IAAE;IAC1C,aAAa;QAAE,MAAM;QAAQ,SAAS;IAAG;IACzC,WAAW;QAAE,MAAM;YAAC;SAAO;QAAE,SAAS,EAAE;IAAC;IACzC,QAAQ;QAAE,MAAM;YAAC;SAAO;QAAE,SAAS,EAAE;IAAC;IACtC,OAAO;QAAE,MAAM;YAAC;SAAW;QAAE,SAAS,EAAE;IAAC;IACzC,QAAQ;QAAE,MAAM;QAAc,SAAS,IAAM,CAAC,CAAC,CAAC;IAAE;IAClD,UAAU;QAAE,MAAM;QAAQ,SAAS;IAAU;AAC/C,GAAG;IAAE,YAAY;AAAK;AAEtB,oFAAoF;AACpF,cAAc,KAAK,CAAC;IAAE,MAAM;IAAQ,aAAa;AAAO;AAExD,wEAAwE;AACxE,MAAM,UAAU,oHAAQ,CAAC,MAAM,CAAC,OAAO,IAAI,oHAAQ,CAAC,KAAK,CAAC,WAAW;uCAEtD","debugId":null}},
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///Users/nischalreddymuthumula/Desktop/untitled%20folder/src/pages/api/products/index.js"],"sourcesContent":["// pages/api/products/index.js\nimport dbConnect from \"../../../lib/dbConnect\"; // create a small helper to connect using mongoose.connect once\nimport ProductModel from \"../../../models/productModel.js\";\nimport CatalogService from \"../../../src/services/catalogService.js\";\n\nexport default async function handler(req, res) {\n  await dbConnect();\n  if (req.method === \"GET\") {\n    const { q, page = 1, limit = 20 } = req.query;\n    const result = await CatalogService.searchProducts({ q, page: Number(page), limit: Number(limit) });\n    return res.status(200).json(result);\n  }\n  if (req.method === \"POST\") {\n    try {\n      const created = await CatalogService.createProduct(req.body);\n      return res.status(201).json(created.toObject ? created.toObject() : created);\n    } catch (err) {\n      return res.status(400).json({ error: err.message });\n    }\n  }\n  return res.status(405).end();\n}\n"],"names":[],"mappings":"AAAA,8BAA8B;;;;;AAC9B,qMAAgD,+DAA+D;AAC/G;;;;;;;;;AAGe,eAAe,QAAQ,GAAG,EAAE,GAAG;IAC5C,MAAM,IAAA,2HAAS;IACf,IAAI,IAAI,MAAM,KAAK,OAAO;QACxB,MAAM,EAAE,CAAC,EAAE,OAAO,CAAC,EAAE,QAAQ,EAAE,EAAE,GAAG,IAAI,KAAK;QAC7C,MAAM,SAAS,MAAM,eAAe,cAAc,CAAC;YAAE;YAAG,MAAM,OAAO;YAAO,OAAO,OAAO;QAAO;QACjG,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;IAC9B;IACA,IAAI,IAAI,MAAM,KAAK,QAAQ;QACzB,IAAI;YACF,MAAM,UAAU,MAAM,eAAe,aAAa,CAAC,IAAI,IAAI;YAC3D,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC,QAAQ,QAAQ,GAAG,QAAQ,QAAQ,KAAK;QACtE,EAAE,OAAO,KAAK;YACZ,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;gBAAE,OAAO,IAAI,OAAO;YAAC;QACnD;IACF;IACA,OAAO,IAAI,MAAM,CAAC,KAAK,GAAG;AAC5B","debugId":null}}]
}